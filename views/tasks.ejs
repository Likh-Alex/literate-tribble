<%- include('partials/header') %>


<!-- Current project tab -->
<div class="project">
    <div class="projectHeader">
      <div class="projectTitle">
        <span>
          <a data-toggle="modal" data-target="#editDeadLineModal">
            <i class="far fa-calendar-alt fa-2x" data-toggle="tooltip" data-placement="top" title="Set Deadline"></i>
          </a>
        </span>
        <h5 value="" class="projectName">Project name</h5>
        <div class="projectButtons">
          <span data-toggle="tooltip" data-placement="top" title="Edit Project Title">
            <a data-toggle="modal" data-target="#editProjectTitleModal">
              <i class="editProject fas fa-pencil-alt"></i>
            </a>
          </span>
          <i class="separatorDash fas fa-minus"></i>
          <span data-toggle="tooltip" data-placement="top" title="Delete Project">
            <a data-toggle="modal" data-target="#deleteProjectModal">
              <i class="deleteProject far fa-trash-alt"></i>
            </a>
          </span>
        </div>
      </div>
    </div>


  <!-- New task tab -->
    <div class="inputTab">
      <div class="plusButton fas fa-plus "></div>
      <input id="inputNewTask" data-description="data-description" class="inputField" minlength="3" maxlength="50" pattern="[A-Za-z]{3-50}" title="Maximum length - 50 symbols" autocomplete="off" type="text" name="taskDescription" value=""
        placeholder="  Start typing here to create a task..." required>
      <button id="addButton" class="addButton" type="submit" value="Submit">
        <p>Add task</p>
      </button>
    </div>


  <!-- Current tasks in the ToDoList -->
  <div class="taskList">
    <% tasks.forEach(function(task){%>
    <div class="taskRow">
      <div class="doneMark">
        <span data-toggle="tooltip" data-placement="bottom" title="Mark as Done">
          <% if(task.completion===true){%>
          <input id="doneMark" type="checkbox" name="doneTaskMark" checked>
          <%}else{%>
          <input id="doneMark" type="checkbox" name="doneTaskMark">
          <%  }%>

        </span>
      </div>
      <div class="separator"></div>
      <div class="taskDescription">
        <%= task.description%>
      </div>

      <div class="taskOptions">
        <span data-toggle="tooltip" data-placement="bottom" title="Set Priority">
          <a data-toggle="modal" data-target="#setPriorityModal">
            <i onclick="myFunction" data-priority="<%= task.priority%>" class="sortButton fas fa-sort"></i>
          </a>
        </span>
        <i class="separatorDash fas fa-minus"></i>
        <span data-toggle="tooltip" data-placement="bottom" title="Edit task">
          <a data-toggle="modal" data-target="#editTaskModal">
            <i class="editTask fas fa-pencil-alt" data-id="<%= task.id%>" data-description="<%= task.description%>"></i>
          </a>
        </span>
        <i class="separatorDash fas fa-minus"></i>
        <span data-toggle="tooltip" data-placement="bottom" title="Delete task">
          <a data-toggle="modal" data-target="#deleteTaskModal">
            <i class="deleteTask fas fa-trash-alt" data-id="<%= task.id%>"></i>
          </a>
        </span>
      </div>
    </div>
    <%})%>


    <%- include('partials/modals') %>



    <script src="/js/main.js"></script>
    <%- include('partials/footer') %>
